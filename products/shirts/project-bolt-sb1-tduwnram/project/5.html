<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Custom Cart</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Free HTML Templates" name="keywords">
    <meta content="Free HTML Templates" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet"> 

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="../../../../css/style.css" rel="stylesheet">
</head>

<body>
    <link href="style.css" rel="stylesheet">
    <!-- Topbar Start -->
    <div class="container-fluid">
        <div class="row bg-secondary py-2 px-xl-5">
            <div class="col-lg-6 d-none d-lg-block">
                <div class="d-inline-flex align-items-center">
                    <a class="text-dark" href="">FAQs</a>
                    <span class="text-muted px-2">|</span>
                    <a class="text-dark" href="">Help</a>
                    <span class="text-muted px-2">|</span>
                    <a class="text-dark" href="">Support</a>
                </div>
            </div>
            <div class="col-lg-6 text-center text-lg-right">
                <div class="d-inline-flex align-items-center">
                    <a class="text-dark px-2" href="">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a class="text-dark px-2" href="">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a class="text-dark px-2" href="">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    <a class="text-dark px-2" href="">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a class="text-dark pl-2" href="">
                        <i class="fab fa-youtube"></i>
                    </a>
                </div>
            </div>
        </div>
        <div class="row align-items-center py-3 px-xl-5">
            <div class="col-lg-3 d-none d-lg-block">
                <a href="" class="text-decoration-none">
                    <h1 class="m-0 display-5 font-weight-semi-bold"><span class="text-primary font-weight-bold border px-3 mr-1">Custom</span>Cart</h1>
                </a>
            </div>
            <div class="col-lg-6 col-6 text-left">
                <form action="">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search for products">
                        <div class="input-group-append">
                            <span class="input-group-text bg-transparent text-primary">
                                <i class="fa fa-search"></i>
                            </span>
                        </div>
                    </div>
                </form>
            </div>
            <div class="col-lg-3 col-6 text-right">
                <a href="" class="btn border">
                    <i class="fas fa-user text-primary"></i>
                    <span class="badge" id="username-display"></span>  <!--Users name displayed-->
                </a>
                <a class="btn border" onclick="openCartModal()">
                    <i class="fas fa-shopping-cart text-primary"></i>
                    <span class="badge" id="cart-count">0</span>
                </a>
            </div>
        </div>
    </div>
    <!-- Topbar End -->


    <!-- Navbar Start -->
    <div class="container-fluid">
        <div class="row border-top px-xl-5">
            <div class="col-lg-3 d-none d-lg-block">
                <a class="btn shadow-none d-flex align-items-center justify-content-between bg-primary text-white w-100" data-toggle="collapse" href="#navbar-vertical" style="height: 65px; margin-top: -1px; padding: 0 30px;">
                    <h6 class="m-0">Categories</h6>
                    <i class="fa fa-angle-down text-dark"></i>
                </a>
                <nav class="collapse position-absolute navbar navbar-vertical navbar-light align-items-start p-0 border border-top-0 border-bottom-0 bg-light" id="navbar-vertical" style="width: calc(100% - 30px); z-index: 1;">
                    <div class="navbar-nav w-100 overflow-hidden" style="height: 410px">
                        <div class="nav-item dropdown">
                           
                        </div>
                        <a href="index.html" class="nav-item nav-link">Shirts</a>
                        <a href="../../../sweatshirt/project/index.html" class="nav-item nav-link">Sweatshirts</a>
                        <a href="../../../Hoodies/project/index.html" class="nav-item nav-link">Hoodies</a>
                        <a href="../../../../Product page/index.html" class="nav-item nav-link">Gifts</a>
                        
                    </div>
                </nav>
            </div>
            <div class="col-lg-9">
                <nav class="navbar navbar-expand-lg bg-light navbar-light py-3 py-lg-0 px-0">
                    <a href="" class="text-decoration-none d-block d-lg-none">
                        <h1 class="m-0 display-5 font-weight-semi-bold"><span class="text-primary font-weight-bold border px-3 mr-1">Custom</span>Cart</h1>
                    </a>
                    <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
                        <div class="navbar-nav mr-auto py-0">
                            <a href="../../../../index.html" class="nav-item nav-link">Home</a>
                            <a href="../../../shirts/project-bolt-sb1-tduwnram/project/index.html" class="nav-item nav-link">Shop</a>
                            <div class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Pages</a>
                                <div class="dropdown-menu rounded-0 m-0">
                                    <a href="../../../../cart.html" class="dropdown-item">Shopping Cart</a>
                                    <a href="../../../../checkout.html" class="dropdown-item">Checkout</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </nav>
            </div>
        </div>
    </div>
    <!-- Navbar End -->


    <!-- Page Header Start -->
    <div class="container-fluid bg-secondary mb-5">
        <div class="d-flex flex-column align-items-center justify-content-center" style="min-height: 300px">
            <h1 class="font-weight-semi-bold text-uppercase mb-3">Shop Detail</h1>
            <div class="d-inline-flex">
                <p class="m-0"><a href="">Home</a></p>
                <p class="m-0 px-2">-</p>
                <p class="m-0">Shop Detail</p>
            </div>
        </div>
    </div>
    <!-- Page Header End -->


    <!-- Shop Detail Start -->
    <div class="container-fluid py-5">
        <div class="row px-xl-5">
            <div class="col-lg-5 pb-5">
                <div id="product-carousel" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner border">
                        <div class="carousel-item active">
                            <img class="w-100 h-100" src="shirt6.jpg" alt="Image">
                        </div>
                        
                    </div>
                    <a class="carousel-control-prev" href="#product-carousel" data-slide="prev">
                        <i class="fa fa-2x fa-angle-left text-dark"></i>
                    </a>
                    <a class="carousel-control-next" href="#product-carousel" data-slide="next">
                        <i class="fa fa-2x fa-angle-right text-dark"></i>
                    </a>
                </div>
            </div>

            <div class="col-lg-7 pb-5">
                <h3 class="font-weight-semi-bold">Custom Comgort Colors Vintage Pet T-shirt</h3>
                <div class="d-flex mb-3">
                    <div class="text-primary mr-2">
                        <small class="fas fa-star"></small>
                        <small class="fas fa-star"></small>
                        <small class="fas fa-star"></small>
                        <small class="fas fa-star-half-alt"></small>
                        <small class="far fa-star"></small>
                    </div>
                    <small class="pt-1">(50 Reviews)</small>
                </div>
                <h3 class="font-weight-semi-bold mb-4">Rs.525.00</h3>
                <p class="mb-4">Combining the iconic, relaxed vibe of Comfort Colors with a custom pet-themed design, this t-shirt brings both comfort and personality to your wardrobe.</p>
                <div class="d-flex mb-3">
                    <p class="text-dark font-weight-medium mb-0 mr-3">Sizes:</p>
                    <select class="size-select" id="size-select">
                      <option value="">Select Size</option>
                      <option value="XS">XS</option>
                      <option value="S">S</option>
                      <option value="M">M</option>
                      <option value="L">L</option>
                      <option value="XL">XL</option>
                    </select>
                  </div>
                <div class="d-flex mb-4">
                    <p class="text-dark font-weight-medium mb-0 mr-3">Colors:</p>
                    <form>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="color-1" name="color" value="Black">
                            <label class="custom-control-label" for="color-1">Black</label>
                        </div>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="color-2" name="color" value="White">
                            <label class="custom-control-label" for="color-2">White</label>
                        </div>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="color-3" name="color" value="Red">
                            <label class="custom-control-label" for="color-3">Red</label>
                        </div>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="color-4" name="color" value="Blue">
                            <label class="custom-control-label" for="color-4">Blue</label>
                        </div>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="color-5" name="color" value="Green">
                            <label class="custom-control-label" for="color-5">Green</label>
                        </div>
                    </form>
                </div>
                    <!-- Inside 1.html, replace the existing "Add to Cart" section with the following: -->
<!-- Inside 1.html, replace the existing "Add to Cart" section with the following: -->
<div class="d-flex align-items-center mb-4 pt-2">
    <div class="input-group quantity mr-3" style="width: 130px;">
        <div class="input-group-btn">
            <button class="btn btn-primary btn-minus">
                <i class="fa fa-minus"></i>
            </button>
        </div>
        <input type="text" class="form-control bg-secondary text-center" value="1" id="quantity">
        <div class="input-group-btn">
            <button class="btn btn-primary btn-plus">
                <i class="fa fa-plus"></i>
            </button>
        </div>
    </div>
    <button class="btn btn-primary px-3" onclick="addToCartWithSizeAndColor(5)"><i class="fa fa-shopping-cart mr-1"></i> Add To Cart</button>
</div>
                </div>
                <div class="d-flex pt-2">
                    <p class="text-dark font-weight-medium mb-0 mr-2">Share on:</p>
                    <div class="d-inline-flex">
                        <a class="text-dark px-2" href="">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a class="text-dark px-2" href="">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a class="text-dark px-2" href="">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a class="text-dark px-2" href="">
                            <i class="fab fa-pinterest"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row px-xl-5">
            <div class="col">
                <div class="nav nav-tabs justify-content-center border-secondary mb-4">
                    <a class="nav-item nav-link active" data-toggle="tab" href="#tab-pane-1">Description</a>
                    <a class="nav-item nav-link" data-toggle="tab" href="#tab-pane-2">Information</a>
                   
                </div>
                <div class="tab-content">
                    <div class="tab-pane fade show active" id="tab-pane-1">
                        <h4 class="mb-3">Product Description</h4>
                        <p>Premium Comfort Fabric: Made from 100% soft cotton, this t-shirt is pre-washed to provide a vintage, lived-in feel that’s perfect for all-day wear. The breathable fabric ensures you stay cool and comfortable, whether you’re lounging at home or out on a casual outing.</p>

                         <p>Customizable Pet Design: Express your unique bond with your pet by customizing the design! Whether it’s a cute paw print, an illustration of your specific pet, or a personalized message, this shirt can be tailored to reflect your furry friend’s personality, making it truly one-of-a-kind.</p>
                            
                          <p>Vintage Style: With its timeless, classic design, this t-shirt features a faded, vintage-inspired look. The custom print brings a retro touch that’s both stylish and charming, making it a standout piece in any pet lover’s wardrobe.</p>
                            
                          <p>Durable & Long-Lasting: The high-quality materials and garment-dyeing process ensure that this t-shirt maintains its softness, color, and shape over time. The design stays vibrant wash after wash, so your shirt will continue to look as great as the first day you wore it.</p>
                            
                          <p>Relaxed Fit: With its relaxed, slightly oversized cut, this t-shirt offers a comfortable fit that works for all body types. It’s perfect for layering, or simply wearing on its own for a relaxed, casual look.</p>
                            
                          <p>Perfect Gift for Pet Lovers: Looking for a unique gift for a pet owner? This customizable Vintage Pet T-Shirt makes a thoughtful present for birthdays, holidays, or special occasions, letting pet lovers showcase their furry companions in a stylish way.</p>
                            
                          <p>Eco-Friendly Process: Comfort Colors is known for its environmentally friendly dyeing techniques, ensuring that the shirt’s vintage appeal doesn’t come at the cost of the planet.</p>
            
                    </div>
                    <div class="tab-pane fade" id="tab-pane-2">
                        <h4 class="mb-3">Additional Information</h4>
                        <p>The Custom Comfort Colors Vintage Pet T-Shirt is a must-have for any pet lover looking to combine comfort, style, and a personal touch. Show off your furry friend in a way that’s both fashionable and meaningful—order yours today and create a piece that’s as unique as your pet! Whether you’re a proud pet parent or just love animals, this shirt is the perfect way to express your passion for pets in a stylish, laid-back way.Show off your love for pets with the Custom Comfort Colors Vintage Pet T-Shirt.</p>
                        
                    </div>
                   <!---Review Start-->
               
                   <style>
                    .rating-container {
                        margin: 20px 0;
                        padding: 20px;
                    }
                    
                    .stars {
                        display: inline-block;
                        cursor: pointer;
                    }
                    
                    .star {
                        color: #ddd;
                        font-size: 24px;
                        padding: 2px;
                    }
                    
                    .star.active {
                        color: #ffc107;
                    }
            
                    .reviews-container {
                        margin-top: 30px;
                    }
            
                    .review-item {
                        border-bottom: 1px solid #eee;
                        padding: 15px 0;
                    }
            
                    .review-header {
                        display: flex;
                        justify-content: space-between;
                        margin-bottom: 10px;
                    }
            
                    .review-rating {
                        color: #ffc107;
                    }
                </style>
           
            
           <div class="container-fluid pt-5">
            <div class="text-center mb-4">
                                
                                            <h4 class="mb-4">Review </h4>
                                            <div id="reviews-list" class="reviews-container">
                                                <!-- Reviews will be dynamically loaded here -->
                                            </div>
                                        </div>
                                        <div Style="Padding: 20px">
                                        </div>
                                        <div class="col-md-6">
                                            <h4 class="mb-4">Leave a review</h4>
                                            <form id="reviewForm">
                                                <div class="rating-container">
                                                    <p class="mb-2">Your Rating *</p>
                                                    <div class="stars" id="ratingStars">
                                                        <span class="star" data-value="1">★</span>
                                                        <span class="star" data-value="2">★</span>
                                                        <span class="star" data-value="3">★</span>
                                                        <span class="star" data-value="4">★</span>
                                                        <span class="star" data-value="5">★</span>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="title">Review Title *</label>
                                                    <input type="text" class="form-control" id="title" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="comment">Your Review *</label>
                                                    <textarea id="comment" cols="30" rows="5" class="form-control" required></textarea>
                                                </div>
                                                <div class="form-group">
                                                    <label for="name">Your Name *</label>
                                                    <input type="text" class="form-control" id="name" required>
                                                </div>
                                                <div class="form-group mb-0">
                                                    <button type="submit" class="btn btn-primary px-3">Submit Review</button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
              
                <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
                <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
                <script src="lib/easing/easing.min.js"></script>
                <script src="lib/owlcarousel/owl.carousel.min.js"></script>
            
                <!-- Template Javascript -->
                <script src="js/main.js"></script>
            
                <script>
                    // Review functionality
                    document.addEventListener('DOMContentLoaded', function() {
                        let selectedRating = 0;
                        const stars = document.querySelectorAll('.star');
                        
                        // Handle star rating selection
                        stars.forEach(star => {
                            star.addEventListener('click', function() {
                                selectedRating = this.dataset.value;
                                updateStars();
                            });
                        });
            
                        function updateStars() {
                            stars.forEach(star => {
                                star.classList.toggle('active', star.dataset.value <= selectedRating);
                            });
                        }
            
                        // Handle review form submission
                        const reviewForm = document.getElementById('reviewForm');
                        reviewForm.addEventListener('submit', function(e) {
                            e.preventDefault();
                            
                            const review = {
                                rating: selectedRating,
                                title: document.getElementById('title').value,
                                comment: document.getElementById('comment').value,
                                name: document.getElementById('name').value,
                                date: new Date().toLocaleDateString()
                            };
            
                            addReviewToList(review);
                            reviewForm.reset();
                            selectedRating = 0;
                            updateStars();
                        });
            
                        function addReviewToList(review) {
                            const reviewsList = document.getElementById('reviews-list');
                            const reviewElement = document.createElement('div');
                            reviewElement.className = 'review-item';
                            reviewElement.innerHTML = `
                                <div class="review-header">
                                    <h6>${review.name}<small> - <i>${review.date}</i></small></h6>
                                    <div class="review-rating">
                                        ${'★'.repeat(review.rating)}${'☆'.repeat(5-review.rating)}
                                    </div>
                                </div>
                                <h6>${review.title}</h6>
                                <p>${review.comment}</p>
                            `;
                            reviewsList.prepend(reviewElement);
                        }
                    });
            
                    // [Previous cart and other JavaScript code remains unchanged]
                </script>
                </div>
                <!--Review End-->
    <!-- Shop Detail End -->



    <!-- Footer Start -->
    <div class="container-fluid bg-secondary text-dark mt-5 pt-5">
        <div class="row px-xl-5 pt-5">
            <div class="col-lg-4 col-md-12 mb-5 pr-3 pr-xl-5">
                <a href="" class="text-decoration-none">
                    <h1 class="mb-4 display-5 font-weight-semi-bold"><span class="text-primary font-weight-bold border border-white px-3 mr-1">Custom</span>Cart</h1>
                </a>
                <p>CustomCart integrates advanced generative AI technologies to offer a unique and personalized shopping experience.The Generative AI tool that allows customers to visualize how a particular dress or clothing item will fit on their body.Provides customized gifts</p>
                <p class="mb-2"><i class="fa fa-map-marker-alt text-primary mr-3"></i>Kerala, India</p>
                <p class="mb-2"><i class="fa fa-envelope text-primary mr-3"></i>CustomCart@info.com</p>
                <p class="mb-0"><i class="fa fa-phone-alt text-primary mr-3"></i>+012 345 67890</p>
            </div>
            <div class="col-lg-8 col-md-12">
                <div class="row">
                    <div class="col-md-4 mb-5">
                        <h5 class="font-weight-bold text-dark mb-4">Quick Links</h5>
                        <div class="d-flex flex-column justify-content-start">
                            <a class="text-dark mb-2" href="index.html"><i class="fa fa-angle-right mr-2"></i>Home</a>
                            <a class="text-dark mb-2" href="shop.html"><i class="fa fa-angle-right mr-2"></i>Our Shop</a>
                            <a class="text-dark mb-2" href="detail.html"><i class="fa fa-angle-right mr-2"></i>Shop Detail</a>
                            <a class="text-dark mb-2" href="cart.html"><i class="fa fa-angle-right mr-2"></i>Shopping Cart</a>
                            <a class="text-dark mb-2" href="checkout.html"><i class="fa fa-angle-right mr-2"></i>Checkout</a>
                            <a class="text-dark" href="contact.html"><i class="fa fa-angle-right mr-2"></i>Contact Us</a>
                        </div>
                    </div>
                    <div class="col-md-4 mb-5">
                        <h5 class="font-weight-bold text-dark mb-4">Quick Links</h5>
                        <div class="d-flex flex-column justify-content-start">
                            <a class="text-dark mb-2" href="index.html"><i class="fa fa-angle-right mr-2"></i>Home</a>
                            <a class="text-dark mb-2" href="shop.html"><i class="fa fa-angle-right mr-2"></i>Our Shop</a>
                            <a class="text-dark mb-2" href="detail.html"><i class="fa fa-angle-right mr-2"></i>Shop Detail</a>
                            <a class="text-dark mb-2" href="cart.html"><i class="fa fa-angle-right mr-2"></i>Shopping Cart</a>
                            <a class="text-dark mb-2" href="checkout.html"><i class="fa fa-angle-right mr-2"></i>Checkout</a>
                            <a class="text-dark" href="contact.html"><i class="fa fa-angle-right mr-2"></i>Contact Us</a>
                        </div>
                    </div>
                    <div class="col-md-4 mb-5">
                        <h5 class="font-weight-bold text-dark mb-4">Newsletter</h5>
                        <form action="">
                            <div class="form-group">
                                <input type="text" class="form-control border-0 py-4" placeholder="Your Name" required="required" />
                            </div>
                            <div class="form-group">
                                <input type="email" class="form-control border-0 py-4" placeholder="Your Email"
                                    required="required" />
                            </div>
                            <div>
                                <button class="btn btn-primary btn-block border-0 py-3" type="submit">Subscribe Now</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="row border-top border-light mx-xl-5 py-4">
            <div class="col-md-6 px-xl-0">
                <p class="mb-md-0 text-center text-md-left text-dark">
                    &copy; <a class="text-dark font-weight-semi-bold" href="#">Custom Cart</a>. All Rights Reserved. Designed
                    by
                    <a class="text-dark font-weight-semi-bold" href="https://htmlcodex.com">HTML Codex</a>
                </p>
            </div>
            <div class="col-md-6 px-xl-0 text-center text-md-right">
                <img class="img-fluid" src="img/payments.png" alt="">
            </div>
        </div>
    </div>
    <!-- Footer End -->


    <!-- Back to Top -->
    <a href="#" class="btn btn-primary back-to-top"><i class="fa fa-angle-double-up"></i></a>


    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>

    <!-- Contact Javascript File -->
    <script src="mail/jqBootstrapValidation.min.js"></script>
    <script src="mail/contact.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>

    <script>
        fetch("/api/username")
            .then(response => response.json())
            .then(data => {
                document.getElementById("username-display").textContent = data.username;
            })
            .catch(error => console.error("Error fetching username:", error));
    </script>

    <script src="main.js"></script>
    <script>
        const products = [
        {
    id: 5,
    name: "Custom Comfort Colors Vintage Pet TShirt",
    price: 525,
    image: "shirt6.jpg"
  },
        ];
      
        let cart = [];
      
        // Add to cart
        /*
        window.addToCart = (productId) => {
          const product = products.find(p => p.id === productId);
          const existingItem = cart.find(item => item.id === productId);
      
          if (existingItem) {
            existingItem.quantity += 1;
          } else {
            cart.push({ ...product, quantity: 1 });
          }
      
          updateCartCount();
          renderCart();
        };
      */
        // Update cart count
        function updateCartCount() {
          const cartCount = document.getElementById('cart-count');
          const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
          cartCount.textContent = totalItems;
        }
      
        // Render cart
        function renderCart() {
          const cartItems = document.getElementById('cart-items');
          const cartTotal = document.getElementById('cart-total');
          
          cartItems.innerHTML = cart.map(item => `
            <div class="cart-item">
              <div>
                <h4>${item.name}</h4>
                <p>Quantity: ${item.quantity}</p>
              </div>
              <div>
                <p>$${(item.price * item.quantity).toFixed(2)}</p>
                <button onclick="removeFromCart(${item.id})">Remove</button>
              </div>
            </div>
          `).join('');
      
          const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
          cartTotal.textContent = total.toFixed(2);
        }
      
        // Remove from cart
        window.removeFromCart = (productId) => {
          cart = cart.filter(item => item.id !== productId);
          updateCartCount();
          renderCart();
        };
      
        // Try On function
        window.openTryOnPopup = (productImage, productId) => {
          const popupUrl = `Virtualtryon/1/GUItryon17.html?image=${encodeURIComponent(productImage)}&productId=${encodeURIComponent(productId)}`;
          window.open(
            popupUrl,
            "TryOnPopup",
            "width=500,height=500,scrollbars=yes,resizable=yes"
          );
        };
      
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
          updateCartCount();
        });

        fetch("/api/username")
            .then(response => response.json())
            .then(data => {
                document.getElementById("username-display").textContent = data.username;
            })
            .catch(error => console.error("Error fetching username:", error));

    document.addEventListener("DOMContentLoaded", async () => {
    try {
        const response = await fetch("/api/cart");
        const cartItems = await response.json();
        
        if (cartItems.length > 0) {
            document.getElementById("cart-count").textContent = cartItems.reduce((sum, item) => sum + item.quantity, 0);
        }
    } catch (error) {
        console.error("Error fetching cart data:", error);
    }});

      </script>

<div id="cart-modal" class="modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:999;">
    <div class="modal-content" style="width:600px; height:500px; background:#fff; margin:5% auto; padding:20px; border-radius:10px;">
      <h2>Shopping Cart</h2>
      <div id="cart-items"><p>Your cart is empty</p></div>
      <div class="cart-total"><p>Total: <span id="cart-total">Rs.0</span></p></div>
      <button onclick="closeCartModal()">Close</button>
    </div>
  </div>
  
      <script>
        // Open cart modal when cart icon is clicked
        function openCartModal() {
          document.getElementById('cart-modal').style.display = 'block';
          renderCart();
        }
        
        // Close cart modal
        function closeCartModal() {
          document.getElementById('cart-modal').style.display = 'none';
        }
        
        // Close modal when clicking outside content
        window.onclick = function(event) {
          if (event.target.id === 'cart-modal') closeCartModal();
        };
        </script>
</script>
<script>
    function updateCartCount() {
        Promise.all([fetch("/api/cart"), fetch("/api/cartp")])
            .then(async ([regularRes, personalizedRes]) => {
                const regularItems = await regularRes.json();
                const personalizedItems = await personalizedRes.json();
                const totalItems = [...regularItems, ...personalizedItems]
                    .reduce((sum, item) => sum + item.quantity, 0);
                document.getElementById("cart-count").textContent = totalItems;
            })
            .catch(() => document.getElementById("cart-count").textContent = "0");
    }

    document.addEventListener("DOMContentLoaded", updateCartCount);
</script>
</body>
</body>

</html>
<script>
document.addEventListener("DOMContentLoaded", function() {
  const minusBtn = document.querySelector('.btn-minus');
  const plusBtn = document.querySelector('.btn-plus');
  const quantityInput = document.getElementById('quantity');

  minusBtn.addEventListener('click', function(e) {
    e.preventDefault();
    let currentValue = parseInt(quantityInput.value) || 1;
    if (currentValue > 1) {
      quantityInput.value = currentValue - 1;
    }
  });

  plusBtn.addEventListener('click', function(e) {
    e.preventDefault();
    let currentValue = parseInt(quantityInput.value) || 1;
    quantityInput.value = currentValue + 1;
  });
});
</script>
